#include <regx52.h>

// 基于11.0592MHz的晶振的定时器0，每10us中断一次
void timer0Init(void) {
	TMOD &= 0xF0;  // 清零T0的控制位，不影响T1的配置
	TMOD |= 0x01;   // 设置T0为模式1 (16位定时器)
	
	TH0 = (65536 - 9) / 256;  // 装入初值高8位
	TL0 = (65536 - 9) % 256;  // 装入初值低8位
	
	EA = 1;  // 开启总中断
	ET0 = 1; // 开启定时器0中断
	TR0 = 1; // 启动定时器0
}

